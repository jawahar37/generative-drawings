import{S as t,i as e,s as a,e as s,k as l,c as n,a as i,d as r,n as c,b as o,M as u,f as v,F as h,J as f,$ as p,A as d,L as m,W as b,t as g,g as E,O as I,R as x,j as w,m as T,N as k,o as y,Q as $,Z as M,x as P,u as V,v as D,U as N}from"../chunks/vendor-773b9a11.js";import{g as B,s as S,a as A,b as L}from"../chunks/palettes-b24f50f4.js";function U(t){let e,a,p,d;return{c(){e=s("div"),a=s("canvas"),p=l(),d=s("canvas"),this.h()},l(t){e=n(t,"DIV",{style:!0,class:!0});var s=i(e);a=n(s,"CANVAS",{class:!0}),i(a).forEach(r),p=c(s),d=n(s,"CANVAS",{class:!0}),i(d).forEach(r),s.forEach(r),this.h()},h(){o(a,"class","svelte-s65zwk"),o(d,"class","svelte-s65zwk"),u(e,"width",C+"px"),u(e,"height",t[2]+"px"),o(e,"class","svelte-s65zwk")},m(s,l){v(s,e,l),h(e,a),t[8](a),h(e,p),h(e,d),t[9](d)},p:f,i:f,o:f,d(a){a&&r(e),t[8](null),t[9](null)}}}let C=350;function O(t,e,a){const s=p();let l,n,i,r,c,o,u,{value:v}=e,{levels:h=3}=e,{scale:f=1}=e,{base:b=10}=e,g=35*h;d((()=>{a(0,n.width=C,n),a(0,n.height=g,n),i=B(n,C,g),a(1,r.width=C,r),a(1,r.height=g,r),l=S(L),function(t){t.strokeStyle="#ddd",t.lineWidth=1,t.beginPath();for(let e=C/b;e<C;e+=C/b)t.moveTo(e,0),t.lineTo(e,g);t.stroke()}(B(r,C,g)),y(),n.addEventListener("pointerdown",w,{passive:!0})}));let E,I,x=!1;function w(t){let e=n.getBoundingClientRect();c=t.clientX-e.left,o=t.clientY-e.top,E=h-1-Math.floor(o/35),I=C/f*Math.pow(b,E),u=v,x=!0,y(),n.setPointerCapture(t.pointerId),n.addEventListener("pointermove",T,{passive:!0}),n.addEventListener("pointerup",k),n.addEventListener("pointercancel",k)}function T(t){let e=n.getBoundingClientRect(),l=t.clientX-e.left-c;a(3,v=u+l/I),s("input",{value:v}),y()}function k(t){x=!1,y(),"pointercancel"==t.type&&(a(3,v=u),s("input",{value:v})),n.removeEventListener("pointermove",T),n.removeEventListener("pointerup",k),n.removeEventListener("pointercancel",k)}function y(){window.requestAnimationFrame($)}function $(){i.clearRect(0,0,C,g),i.strokeStyle="#444";let t=v;for(let e=0;e<h;e++){let a=t/f*C%C;t=t*b%f,a=a>=0?a:a+C;let s=35*(h-e-.5);x&&E==e&&(i.lineWidth=1,i.beginPath(),i.moveTo(0,s),i.lineTo(C,s),i.stroke());let n=Math.floor(a/C*b);i.fillStyle=A(l,n),i.beginPath(),i.arc(a,s,17.5,0,2*Math.PI),i.arc(a+C,s,17.5,0,2*Math.PI),i.arc(a-C,s,17.5,0,2*Math.PI),i.fill(),x&&E==e&&(i.lineWidth=5,i.beginPath(),i.arc(a,s,15,0,2*Math.PI),i.stroke())}}return t.$$set=t=>{"value"in t&&a(3,v=t.value),"levels"in t&&a(4,h=t.levels),"scale"in t&&a(5,f=t.scale),"base"in t&&a(6,b=t.base)},[n,r,g,v,h,f,b,y,function(t){m[t?"unshift":"push"]((()=>{r=t,a(1,r)}))},function(t){m[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class W extends t{constructor(t){super(),e(this,t,O,U,a,{value:3,levels:4,scale:5,base:6,redraw:7})}get redraw(){return this.$$.ctx[7]}}function F(t,e,a){const s=t.slice();return s[20]=e[a],s}function R(t){let e,a,u,p,d,m,b,w,T,k,y,$,M,P,V;return{c(){e=s("div"),a=s("button"),u=g("x"),m=l(),b=s("div"),w=g(t[20]),T=l(),k=s("button"),y=g("Ã·"),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=i(e);a=n(l,"BUTTON",{class:!0,"aria-label":!0});var o=i(a);u=E(o,"x"),o.forEach(r),m=c(l),b=n(l,"DIV",{class:!0});var v=i(b);w=E(v,t[20]),v.forEach(r),T=c(l),k=n(l,"BUTTON",{class:!0,"aria-label":!0});var h=i(k);y=E(h,"Ã·"),h.forEach(r),l.forEach(r),this.h()},h(){o(a,"class","top svelte-v6rp8x"),a.value=p=t[20],o(a,"aria-label",d=`Multiply ${t[20]}`),o(b,"class","value svelte-v6rp8x"),o(k,"class","bottom svelte-v6rp8x"),k.value=$=t[20],o(k,"aria-label",M=`divide ${t[20]}`),o(e,"class","factor-btn svelte-v6rp8x")},m(s,l){v(s,e,l),h(e,a),h(a,u),h(e,m),h(e,b),h(b,w),h(e,T),h(e,k),h(k,y),P||(V=[I(a,"click",t[4]),I(k,"click",t[5])],P=!0)},p:f,d(t){t&&r(e),P=!1,x(V)}}}function j(t){let e,a,f,p,d,B,S,A,L,U,C,O,j,z,q,X,J,Q,Y,Z,G,H,K,_,tt,et,at,st,lt,nt,it,rt,ct,ot,ut,vt,ht,ft,pt,dt,mt,bt,gt;function Et(e){t[11](e)}let It={levels:"6",base:"10",scale:2*Math.PI};void 0!==t[0]&&(It.value=t[0]),X=new W({props:It}),m.push((()=>b(X,"value",Et))),t[12](X),X.$on("input",t[7]);let xt=[2,3,5,7,11,13,17,19,23,29],wt=[];for(let s=0;s<10;s+=1)wt[s]=R(F(t,xt,s));return{c(){e=s("section"),a=s("div"),f=s("canvas"),p=l(),d=s("div"),B=s("div"),S=s("label"),A=g("Base angle:"),L=l(),U=s("div"),C=s("input"),O=l(),j=s("input"),z=l(),q=s("div"),w(X.$$.fragment),Q=l(),Y=s("div"),Z=s("div"),G=s("button"),H=g("ðœ‹"),K=l(),_=s("button"),tt=g("ðœ"),et=l(),at=s("div"),st=s("div");for(let t=0;t<10;t+=1)wt[t].c();lt=l(),nt=s("div"),it=s("button"),rt=g("x"),ot=l(),ut=s("div"),vt=s("input"),ht=l(),ft=s("button"),pt=g("Ã·"),this.h()},l(t){e=n(t,"SECTION",{class:!0});var s=i(e);a=n(s,"DIV",{class:!0});var l=i(a);f=n(l,"CANVAS",{id:!0,class:!0}),i(f).forEach(r),l.forEach(r),p=c(s),d=n(s,"DIV",{class:!0});var o=i(d);B=n(o,"DIV",{class:!0});var u=i(B);S=n(u,"LABEL",{for:!0});var v=i(S);A=E(v,"Base angle:"),v.forEach(r),L=c(u),U=n(u,"DIV",{class:!0});var h=i(U);C=n(h,"INPUT",{id:!0,type:!0,step:!0,style:!0}),O=c(h),j=n(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,style:!0}),h.forEach(r),u.forEach(r),z=c(o),q=n(o,"DIV",{class:!0});var m=i(q);T(X.$$.fragment,m),m.forEach(r),Q=c(o),Y=n(o,"DIV",{class:!0});var b=i(Y);Z=n(b,"DIV",{class:!0});var g=i(Z);G=n(g,"BUTTON",{class:!0});var I=i(G);H=E(I,"ðœ‹"),I.forEach(r),K=c(g),_=n(g,"BUTTON",{class:!0});var x=i(_);tt=E(x,"ðœ"),x.forEach(r),g.forEach(r),b.forEach(r),et=c(o),at=n(o,"DIV",{class:!0});var w=i(at);st=n(w,"DIV",{class:!0});var k=i(st);for(let e=0;e<10;e+=1)wt[e].l(k);lt=c(k),nt=n(k,"DIV",{class:!0});var y=i(nt);it=n(y,"BUTTON",{class:!0,"aria-label":!0});var $=i(it);rt=E($,"x"),$.forEach(r),ot=c(y),ut=n(y,"DIV",{class:!0,style:!0});var M=i(ut);vt=n(M,"INPUT",{type:!0,style:!0}),M.forEach(r),ht=c(y),ft=n(y,"BUTTON",{class:!0,"aria-label":!0});var P=i(ft);pt=E(P,"Ã·"),P.forEach(r),y.forEach(r),k.forEach(r),w.forEach(r),o.forEach(r),s.forEach(r),this.h()},h(){o(f,"id","nubmer-circle"),o(f,"class","svelte-v6rp8x"),o(a,"class","big-canvas svelte-v6rp8x"),o(S,"for","number-circle-points"),o(C,"id","number-circle-points"),o(C,"type","number"),o(C,"step","0.00001"),u(C,"width","10em"),o(j,"type","range"),o(j,"min","0"),o(j,"max","7"),o(j,"step","0.00001"),u(j,"width","100%"),o(U,"class","control-group"),o(B,"class","control-item"),o(q,"class","control-item"),o(G,"class","btn"),G.value=Math.PI,o(_,"class","btn"),_.value=2*Math.PI,o(Z,"class","control-group"),o(Y,"class","control-item"),o(it,"class","top svelte-v6rp8x"),it.value=t[1],o(it,"aria-label",ct=`Multiply ${t[1]}`),o(vt,"type","number"),u(vt,"width","4em"),o(ut,"class","value svelte-v6rp8x"),u(ut,"padding","0.25em"),o(ft,"class","bottom svelte-v6rp8x"),ft.value=t[1],o(ft,"aria-label",dt=`divide ${t[1]}`),o(nt,"class","factor-btn svelte-v6rp8x"),o(st,"class","control-group"),o(at,"class","control-item"),o(d,"class","control svelte-v6rp8x"),o(e,"class","svelte-v6rp8x")},m(s,l){v(s,e,l),h(e,a),h(a,f),t[8](f),h(e,p),h(e,d),h(d,B),h(B,S),h(S,A),h(B,L),h(B,U),h(U,C),k(C,t[0]),h(U,O),h(U,j),k(j,t[0]),h(d,z),h(d,q),y(X,q,null),h(d,Q),h(d,Y),h(Y,Z),h(Z,G),h(G,H),h(Z,K),h(Z,_),h(_,tt),h(d,et),h(d,at),h(at,st);for(let t=0;t<10;t+=1)wt[t].m(st,null);h(st,lt),h(st,nt),h(nt,it),h(it,rt),h(nt,ot),h(nt,ut),h(ut,vt),k(vt,t[1]),h(nt,ht),h(nt,ft),h(ft,pt),mt=!0,bt||(gt=[I(C,"input",t[9]),I(C,"input",t[7]),I(j,"change",t[10]),I(j,"input",t[10]),I(j,"input",t[7]),I(G,"click",t[6]),I(_,"click",t[6]),I(it,"click",t[4]),I(vt,"input",t[13]),I(ft,"click",t[5])],bt=!0)},p(t,[e]){1&e&&$(C.value)!==t[0]&&k(C,t[0]),1&e&&k(j,t[0]);const a={};if(!J&&1&e&&(J=!0,a.value=t[0],M((()=>J=!1))),X.$set(a),48&e){let a;for(xt=[2,3,5,7,11,13,17,19,23,29],a=0;a<10;a+=1){const s=F(t,xt,a);wt[a]?wt[a].p(s,e):(wt[a]=R(s),wt[a].c(),wt[a].m(st,lt))}for(;a<10;a+=1)wt[a].d(1)}(!mt||2&e)&&(it.value=t[1]),(!mt||2&e&&ct!==(ct=`Multiply ${t[1]}`))&&o(it,"aria-label",ct),2&e&&$(vt.value)!==t[1]&&k(vt,t[1]),(!mt||2&e)&&(ft.value=t[1]),(!mt||2&e&&dt!==(dt=`divide ${t[1]}`))&&o(ft,"aria-label",dt)},i(t){mt||(P(X.$$.fragment,t),mt=!0)},o(t){V(X.$$.fragment,t),mt=!1},d(a){a&&r(e),t[8](null),t[12](null),D(X),N(wt,a),bt=!1,x(gt)}}}function z(t,e,a){let s,l,n,i,r,c=.3141592653589793,o=31;d((()=>{s=2500,l=2500,a(2,n.width=s,n),a(2,n.height=l,n),i=n.getContext("2d"),h(c)}));class u{constructor(t,e,a=[s/2,l/2],n=3*Math.PI/2){this.radius=t,this.center=a,this.theta=e,this.phase=n}point(t,e){let a=this.radius;void 0!==e&&(a+=e);let s=this.phase+t*this.theta;return[this.center[0]+a*Math.cos(s),this.center[1]+a*Math.sin(s)]}drawIndicator(){i.beginPath(),v(this.point(0,15),this.point(0,60)),v(this.point(1,15),this.point(1,60)),i.stroke()}}function v(t,e){let[a,s]=t;i.moveTo(a,s),[a,s]=e,i.lineTo(a,s)}function h(t){console.log(t/(2*Math.PI)),i.fillStyle="#fffdf2",i.fillRect(0,0,s,l);let e=.45*Math.min(s,l),a=new u(e,t);i.lineWidth=1,i.strokeStyle="#0f0a36",i.beginPath();for(let s=0;s<100;s++)for(let t=1;t<100;t++)v(a.point(s),a.point(s+t));i.stroke(),i.lineWidth=5,i.strokeStyle="#E94F37",a.drawIndicator()}function f(){window.requestAnimationFrame((function(){h(c),r.redraw()}))}return[c,o,n,r,function(t){a(0,c*=t.target.value),f()},function(t){a(0,c/=t.target.value),f()},function(t){a(0,c=parseFloat(t.target.value)),f()},f,function(t){m[t?"unshift":"push"]((()=>{n=t,a(2,n)}))},function(){c=$(this.value),a(0,c)},function(){c=$(this.value),a(0,c)},function(t){c=t,a(0,c)},function(t){m[t?"unshift":"push"]((()=>{r=t,a(3,r)}))},function(){o=$(this.value),a(1,o)}]}class q extends t{constructor(t){super(),e(this,t,z,j,a,{})}}export{q as default};
