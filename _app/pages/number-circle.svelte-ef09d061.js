import{S as t,i as e,s as a,e as s,k as l,c as n,a as i,d as c,n as r,b as o,K as u,f as v,F as h,H as f,V as p,z as d,J as m,W as b,t as E,g,M as I,P as w,j as T,m as y,L as $,o as P,O as V,X as k,v as M,r as D,w as x,T as N}from"../chunks/vendor-95ca21d0.js";import{g as S}from"../chunks/canvasUtil-f1953d74.js";function A(t){let e,a,p,d;return{c(){e=s("div"),a=s("canvas"),p=l(),d=s("canvas"),this.h()},l(t){e=n(t,"DIV",{style:!0,class:!0});var s=i(e);a=n(s,"CANVAS",{class:!0}),i(a).forEach(c),p=r(s),d=n(s,"CANVAS",{class:!0}),i(d).forEach(c),s.forEach(c),this.h()},h(){o(a,"class","svelte-140l6wt"),o(d,"class","svelte-140l6wt"),u(e,"width",B+"px"),u(e,"height",t[2]+"px"),o(e,"class","svelte-140l6wt")},m(s,l){v(s,e,l),h(e,a),t[8](a),h(e,p),h(e,d),t[9](d)},p:f,i:f,o:f,d(a){a&&c(e),t[8](null),t[9](null)}}}let B=350;function L(t,e,a){const s=p();let l,n,i,c,r,o,{value:u}=e,{levels:v=3}=e,{scale:h=1}=e,{base:f=10}=e,b=35*v;d((()=>{a(0,l.width=B,l),a(0,l.height=b,l),n=S(l,B,b),a(1,i.width=B,i),a(1,i.height=b,i),function(t){t.strokeStyle="#cdc",t.lineWidth=1,t.beginPath();for(let e=B/f;e<B;e+=B/f)t.moveTo(e,0),t.lineTo(e,b);t.stroke()}(S(i,B,b)),V(),l.addEventListener("pointerdown",T)}));let E,g=!1,I=B/h,w=[];for(let p=0;p<v;p++)w.push(I*Math.pow(f,p));function T(t){let e=l.getBoundingClientRect();c=t.clientX-e.left,r=t.clientY-e.top,E=v-1-Math.floor(r/35),o=u,g=!0,V(),l.setPointerCapture(t.pointerId),l.addEventListener("pointermove",y),l.addEventListener("pointerup",$),l.addEventListener("pointercancel",$)}function y(t){t.preventDefault();let e=l.getBoundingClientRect(),n=t.clientX-e.left-c;a(3,u=o+n/w[E]),s("input",{value:u}),V()}function $(t){g=!1,V(),"pointercancel"==t.type&&(a(3,u=o),s("input",{value:u})),l.removeEventListener("pointermove",y),l.removeEventListener("pointerup",$),l.removeEventListener("pointercancel",$)}function P(){n.clearRect(0,0,B,b);for(let t=0;t<v;t++){let e=u*w[t]%B;e=e>=0?e:e+B;let a=35*(v-t-.5);g&&E==t?(n.fillStyle="#FF6347",n.strokeStyle="#FF6347"):n.fillStyle="#2CA6A4",n.beginPath(),n.arc(e,a,17.5,0,2*Math.PI),n.arc(e+B,a,17.5,0,2*Math.PI),n.arc(e-B,a,17.5,0,2*Math.PI),n.fill(),g&&E==t&&(n.beginPath(),n.moveTo(0,a),n.lineTo(B,a),n.stroke())}}function V(){window.requestAnimationFrame(P)}return t.$$set=t=>{"value"in t&&a(3,u=t.value),"levels"in t&&a(4,v=t.levels),"scale"in t&&a(5,h=t.scale),"base"in t&&a(6,f=t.base)},[l,i,b,u,v,h,f,V,function(t){m[t?"unshift":"push"]((()=>{i=t,a(1,i)}))},function(t){m[t?"unshift":"push"]((()=>{l=t,a(0,l)}))}]}class U extends t{constructor(t){super(),e(this,t,L,A,a,{value:3,levels:4,scale:5,base:6,redraw:7})}get redraw(){return this.$$.ctx[7]}}function C(t,e,a){const s=t.slice();return s[20]=e[a],s}function F(t){let e,a,u,p,d,m,b,T,y,$,P;return{c(){e=s("div"),a=s("button"),u=E("x"),p=l(),d=s("div"),m=E(t[20]),b=l(),T=s("button"),y=E("÷"),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=i(e);a=n(l,"BUTTON",{class:!0,value:!0,"aria-label":!0});var o=i(a);u=g(o,"x"),o.forEach(c),p=r(l),d=n(l,"DIV",{class:!0});var v=i(d);m=g(v,t[20]),v.forEach(c),b=r(l),T=n(l,"BUTTON",{class:!0,value:!0,"aria-label":!0});var h=i(T);y=g(h,"÷"),h.forEach(c),l.forEach(c),this.h()},h(){o(a,"class","top svelte-1uvt21h"),a.value=t[20],o(a,"aria-label",`Multiply ${t[20]}`),o(d,"class","value svelte-1uvt21h"),o(T,"class","bottom svelte-1uvt21h"),T.value=t[20],o(T,"aria-label",`divide ${t[20]}`),o(e,"class","factor-btn svelte-1uvt21h")},m(s,l){v(s,e,l),h(e,a),h(a,u),h(e,p),h(e,d),h(d,m),h(e,b),h(e,T),h(T,y),$||(P=[I(a,"click",t[4]),I(T,"click",t[5])],$=!0)},p:f,d(t){t&&c(e),$=!1,w(P)}}}function O(t){let e,a,f,p,d,S,A,B,L,O,R,W,j,X,q,z,H,J,K,Y,G,Q,Z,_,tt,et,at,st,lt,nt,it,ct,rt,ot,ut,vt,ht,ft,pt,dt,mt,bt,Et;function gt(e){t[11](e)}let It={levels:"6",base:"10",scale:2*Math.PI};void 0!==t[0]&&(It.value=t[0]),z=new U({props:It}),m.push((()=>b(z,"value",gt))),t[12](z),z.$on("input",t[7]);let wt=[2,3,5,7,11,13,17,19,23,29],Tt=[];for(let s=0;s<10;s+=1)Tt[s]=F(C(t,wt,s));return{c(){e=s("section"),a=s("div"),f=s("canvas"),p=l(),d=s("div"),S=s("div"),A=s("label"),B=E("Base angle:"),L=l(),O=s("div"),R=s("input"),W=l(),j=s("input"),X=l(),q=s("div"),T(z.$$.fragment),J=l(),K=s("div"),Y=s("div"),G=s("button"),Q=E("𝜋"),Z=l(),_=s("button"),tt=E("𝜏"),et=l(),at=s("div"),st=s("div");for(let t=0;t<10;t+=1)Tt[t].c();lt=l(),nt=s("div"),it=s("button"),ct=E("x"),ot=l(),ut=s("div"),vt=s("input"),ht=l(),ft=s("button"),pt=E("÷"),this.h()},l(t){e=n(t,"SECTION",{class:!0});var s=i(e);a=n(s,"DIV",{class:!0});var l=i(a);f=n(l,"CANVAS",{id:!0,class:!0}),i(f).forEach(c),l.forEach(c),p=r(s),d=n(s,"DIV",{class:!0});var o=i(d);S=n(o,"DIV",{class:!0});var u=i(S);A=n(u,"LABEL",{for:!0});var v=i(A);B=g(v,"Base angle:"),v.forEach(c),L=r(u),O=n(u,"DIV",{class:!0});var h=i(O);R=n(h,"INPUT",{id:!0,type:!0,step:!0,style:!0}),W=r(h),j=n(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,style:!0}),h.forEach(c),u.forEach(c),X=r(o),q=n(o,"DIV",{class:!0});var m=i(q);y(z.$$.fragment,m),m.forEach(c),J=r(o),K=n(o,"DIV",{class:!0});var b=i(K);Y=n(b,"DIV",{class:!0});var E=i(Y);G=n(E,"BUTTON",{class:!0,value:!0});var I=i(G);Q=g(I,"𝜋"),I.forEach(c),Z=r(E),_=n(E,"BUTTON",{class:!0,value:!0});var w=i(_);tt=g(w,"𝜏"),w.forEach(c),E.forEach(c),b.forEach(c),et=r(o),at=n(o,"DIV",{class:!0});var T=i(at);st=n(T,"DIV",{class:!0});var $=i(st);for(let e=0;e<10;e+=1)Tt[e].l($);lt=r($),nt=n($,"DIV",{class:!0});var P=i(nt);it=n(P,"BUTTON",{class:!0,value:!0,"aria-label":!0});var V=i(it);ct=g(V,"x"),V.forEach(c),ot=r(P),ut=n(P,"DIV",{class:!0,style:!0});var k=i(ut);vt=n(k,"INPUT",{type:!0,style:!0}),k.forEach(c),ht=r(P),ft=n(P,"BUTTON",{class:!0,value:!0,"aria-label":!0});var M=i(ft);pt=g(M,"÷"),M.forEach(c),P.forEach(c),$.forEach(c),T.forEach(c),o.forEach(c),s.forEach(c),this.h()},h(){o(f,"id","nubmer-circle"),o(f,"class","svelte-1uvt21h"),o(a,"class","big-canvas svelte-1uvt21h"),o(A,"for","number-circle-points"),o(R,"id","number-circle-points"),o(R,"type","number"),o(R,"step","0.00001"),u(R,"width","10em"),o(j,"type","range"),o(j,"min","0"),o(j,"max","7"),o(j,"step","0.00001"),u(j,"width","100%"),o(O,"class","control-group"),o(S,"class","control-item"),o(q,"class","control-item"),o(G,"class","btn"),G.value=Math.PI,o(_,"class","btn"),_.value=2*Math.PI,o(Y,"class","control-group"),o(K,"class","control-item"),o(it,"class","top svelte-1uvt21h"),it.value=t[1],o(it,"aria-label",rt=`Multiply ${t[1]}`),o(vt,"type","number"),u(vt,"width","4em"),o(ut,"class","value svelte-1uvt21h"),u(ut,"padding","0.25em"),o(ft,"class","bottom svelte-1uvt21h"),ft.value=t[1],o(ft,"aria-label",dt=`divide ${t[1]}`),o(nt,"class","factor-btn svelte-1uvt21h"),o(st,"class","control-group"),o(at,"class","control-item"),o(d,"class","control svelte-1uvt21h"),o(e,"class","svelte-1uvt21h")},m(s,l){v(s,e,l),h(e,a),h(a,f),t[8](f),h(e,p),h(e,d),h(d,S),h(S,A),h(A,B),h(S,L),h(S,O),h(O,R),$(R,t[0]),h(O,W),h(O,j),$(j,t[0]),h(d,X),h(d,q),P(z,q,null),h(d,J),h(d,K),h(K,Y),h(Y,G),h(G,Q),h(Y,Z),h(Y,_),h(_,tt),h(d,et),h(d,at),h(at,st);for(let t=0;t<10;t+=1)Tt[t].m(st,null);h(st,lt),h(st,nt),h(nt,it),h(it,ct),h(nt,ot),h(nt,ut),h(ut,vt),$(vt,t[1]),h(nt,ht),h(nt,ft),h(ft,pt),mt=!0,bt||(Et=[I(R,"input",t[9]),I(R,"input",t[7]),I(j,"change",t[10]),I(j,"input",t[10]),I(j,"input",t[7]),I(G,"click",t[6]),I(_,"click",t[6]),I(it,"click",t[4]),I(vt,"input",t[13]),I(ft,"click",t[5])],bt=!0)},p(t,[e]){1&e&&V(R.value)!==t[0]&&$(R,t[0]),1&e&&$(j,t[0]);const a={};if(!H&&1&e&&(H=!0,a.value=t[0],k((()=>H=!1))),z.$set(a),48&e){let a;for(wt=[2,3,5,7,11,13,17,19,23,29],a=0;a<10;a+=1){const s=C(t,wt,a);Tt[a]?Tt[a].p(s,e):(Tt[a]=F(s),Tt[a].c(),Tt[a].m(st,lt))}for(;a<10;a+=1)Tt[a].d(1)}(!mt||2&e)&&(it.value=t[1]),(!mt||2&e&&rt!==(rt=`Multiply ${t[1]}`))&&o(it,"aria-label",rt),2&e&&V(vt.value)!==t[1]&&$(vt,t[1]),(!mt||2&e)&&(ft.value=t[1]),(!mt||2&e&&dt!==(dt=`divide ${t[1]}`))&&o(ft,"aria-label",dt)},i(t){mt||(M(z.$$.fragment,t),mt=!0)},o(t){D(z.$$.fragment,t),mt=!1},d(a){a&&c(e),t[8](null),t[12](null),x(z),N(Tt,a),bt=!1,w(Et)}}}function R(t,e,a){let s,l,n,i,c,r=.3141592653589793,o=31;d((()=>{s=2500,l=2500,a(2,n.width=s,n),a(2,n.height=l,n),i=n.getContext("2d"),h(r)}));class u{constructor(t,e,a=[s/2,l/2],n=3*Math.PI/2){this.radius=t,this.center=a,this.theta=e,this.phase=n}point(t,e){let a=this.radius;void 0!==e&&(a+=e);let s=this.phase+t*this.theta;return[this.center[0]+a*Math.cos(s),this.center[1]+a*Math.sin(s)]}drawIndicator(){i.beginPath(),v(this.point(0,15),this.point(0,60)),v(this.point(1,15),this.point(1,60)),i.stroke()}}function v(t,e){let[a,s]=t;i.moveTo(a,s),[a,s]=e,i.lineTo(a,s)}function h(t){console.log(t/(2*Math.PI)),i.fillStyle="#fffdf2",i.fillRect(0,0,s,l);let e=.45*Math.min(s,l),a=new u(e,t);i.lineWidth=1,i.strokeStyle="#0f0a36",i.beginPath();for(let s=0;s<100;s++)for(let t=1;t<100;t++)v(a.point(s),a.point(s+t));i.stroke(),i.lineWidth=5,i.strokeStyle="#E94F37",a.drawIndicator()}function f(){window.requestAnimationFrame((function(){h(r),c.redraw()}))}return[r,o,n,c,function(t){a(0,r*=t.target.value),f()},function(t){a(0,r/=t.target.value),f()},function(t){a(0,r=parseFloat(t.target.value)),f()},f,function(t){m[t?"unshift":"push"]((()=>{n=t,a(2,n)}))},function(){r=V(this.value),a(0,r)},function(){r=V(this.value),a(0,r)},function(t){r=t,a(0,r)},function(t){m[t?"unshift":"push"]((()=>{c=t,a(3,c)}))},function(){o=V(this.value),a(1,o)}]}export default class extends t{constructor(t){super(),e(this,t,R,O,a,{})}}
